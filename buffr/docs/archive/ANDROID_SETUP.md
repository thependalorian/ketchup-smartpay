# Android Development Setup Guide

**Last Updated**: 2026-01-17  
**Status**: Setup Instructions for Local Android Development

---

## üîç Current Environment Status

**Detected Configuration**:
- ‚úÖ Android directory exists in project (generated by `expo prebuild`)
- ‚úÖ `adb` installed via Homebrew at `/opt/homebrew/bin/adb`
- ‚ùå `ANDROID_HOME` environment variable not set
- ‚ùå Full Android SDK not installed at default location
- ‚ùå No Android emulator configured

---

## üöÄ Quick Solutions

### Option 1: Use Expo Go (Fastest - No SDK Required)

**Best for**: Quick testing and development

```bash
# Start Expo development server
npm start

# On your Android device:
# 1. Install "Expo Go" from Google Play Store
# 2. Scan the QR code shown in terminal
# 3. App opens in Expo Go
```

**Pros**:
- ‚úÖ No Android SDK installation needed
- ‚úÖ Works immediately
- ‚úÖ Great for development

**Cons**:
- ‚ùå Some native features may be limited
- ‚ùå Requires physical device or Expo Go app

---

### Option 2: Install Android Studio (Full Setup)

**Best for**: Full native development and testing

#### Step 1: Install Android Studio

```bash
# macOS (using Homebrew)
brew install --cask android-studio

# Or download from:
# https://developer.android.com/studio
```

#### Step 2: Configure Android SDK

1. **Open Android Studio**
2. **Go to**: Android Studio ‚Üí Settings ‚Üí Appearance & Behavior ‚Üí System Settings ‚Üí Android SDK
3. **Install SDK Components**:
   - Android SDK Platform-Tools (already have via Homebrew, but install full SDK)
   - Android SDK Build-Tools
   - Android SDK Platform (API 33 or latest)
   - Android Emulator
   - Intel x86 Emulator Accelerator (HAXM) - if on Intel Mac

#### Step 3: Set Environment Variables

Add to `~/.zshrc` (or `~/.bash_profile` if using bash):

```bash
# Android SDK Configuration
export ANDROID_HOME=$HOME/Library/Android/sdk
export PATH=$PATH:$ANDROID_HOME/emulator
export PATH=$PATH:$ANDROID_HOME/platform-tools
export PATH=$PATH:$ANDROID_HOME/tools
export PATH=$PATH:$ANDROID_HOME/tools/bin
```

**Reload shell**:
```bash
source ~/.zshrc
```

#### Step 4: Create Android Emulator

1. **Open Android Studio**
2. **Go to**: Tools ‚Üí Device Manager
3. **Click**: "Create Device"
4. **Select**: Pixel 5 (or any device)
5. **Download**: System Image (API 33 recommended)
6. **Finish**: Setup

#### Step 5: Verify Setup

```bash
# Check ANDROID_HOME
echo $ANDROID_HOME
# Should output: /Users/georgenekwaya/Library/Android/sdk

# List emulators
emulator -list-avds

# Start emulator
emulator -avd <emulator-name> &

# Check devices
adb devices
# Should show: emulator-5554    device
```

#### Step 6: Run App

```bash
# Start emulator first, then:
npm run android
```

---

### Option 3: Use Physical Android Device

**Best for**: Real device testing

#### Step 1: Enable Developer Options

1. **On Android Device**:
   - Go to Settings ‚Üí About Phone
   - Tap "Build Number" 7 times
   - Developer options enabled

#### Step 2: Enable USB Debugging

1. **On Android Device**:
   - Go to Settings ‚Üí Developer Options
   - Enable "USB Debugging"
   - Enable "Install via USB" (optional)

#### Step 3: Connect Device

```bash
# Connect device via USB
# Verify connection
adb devices

# Should show:
# List of devices attached
# <device-id>    device
```

#### Step 4: Run App

```bash
npm run android
```

---

### Option 4: Use EAS Build (Cloud Builds)

**Best for**: Production builds without local SDK

```bash
# Install EAS CLI
npm install -g eas-cli

# Login to Expo
eas login

# Configure project (if not done)
eas build:configure

# Build Android app in cloud
eas build --platform android --profile development

# Or for production
eas build --platform android --profile production
```

**Pros**:
- ‚úÖ No local Android SDK needed
- ‚úÖ Cloud-based builds
- ‚úÖ Production-ready APKs/AABs

---

## üîß Troubleshooting

### Issue: "Failed to resolve the Android SDK path"

**Solution**:
```bash
# Set ANDROID_HOME explicitly
export ANDROID_HOME=$HOME/Library/Android/sdk

# Or if using Homebrew SDK location:
export ANDROID_HOME=/opt/homebrew/Caskroom/android-platform-tools

# Add to ~/.zshrc for persistence
echo 'export ANDROID_HOME=$HOME/Library/Android/sdk' >> ~/.zshrc
source ~/.zshrc
```

### Issue: "No Android connected device found"

**Solutions**:

1. **Start Emulator**:
   ```bash
   # List available emulators
   emulator -list-avds
   
   # Start emulator
   emulator -avd <emulator-name> &
   
   # Wait for emulator to boot, then:
   npm run android
   ```

2. **Connect Physical Device**:
   ```bash
   # Enable USB debugging on device
   # Connect via USB
   adb devices  # Verify connection
   npm run android
   ```

3. **Use Expo Go**:
   ```bash
   npm start
   # Scan QR code with Expo Go app
   ```

### Issue: "Command not found: adb"

**Solution**:
```bash
# Install Android platform tools via Homebrew
brew install --cask android-platform-tools

# Or install full Android Studio
brew install --cask android-studio
```

### Issue: Emulator won't start

**Solutions**:

1. **Check System Requirements**:
   - Ensure virtualization is enabled in BIOS (for Intel Macs)
   - For Apple Silicon Macs, use ARM64 system images

2. **Recreate Emulator**:
   - Open Android Studio ‚Üí Device Manager
   - Delete existing emulator
   - Create new one with ARM64 system image

3. **Check Available Space**:
   - Emulators require significant disk space
   - Ensure at least 10GB free

---

## ‚úÖ Verification Checklist

Before running `npm run android`, verify:

- [ ] `ANDROID_HOME` is set: `echo $ANDROID_HOME`
- [ ] `adb` is in PATH: `which adb`
- [ ] Android SDK exists: `test -d $ANDROID_HOME`
- [ ] Emulator or device available: `adb devices`
- [ ] Android directory in project: `test -d android`

---

## üìö Additional Resources

- **Expo Android Setup**: https://docs.expo.dev/workflow/android-studio-emulator/
- **Android Studio Installation**: https://developer.android.com/studio
- **EAS Build Documentation**: https://docs.expo.dev/build/introduction/
- **Expo Go**: https://expo.dev/client

---

## üéØ Recommended Approach

**For Development**:
1. Use **Expo Go** for quick testing (`npm start` + scan QR)
2. Install **Android Studio** for full native features
3. Use **EAS Build** for production builds

**For Production**:
- Use **EAS Build** (cloud builds) - no local setup needed
- Configure in `eas.json` (already configured)

---

**Status**: ‚ö†Ô∏è **Local Android SDK Setup Required** - Project configuration is correct, only local environment needs configuration.
